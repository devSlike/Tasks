@model IEnumerable<Tasks.Models.SubTask>

<div id="subtasks">
    <table>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.Completed)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.Text)
            </th>
            <th></th>
        </tr>

    @foreach (var item in Model) {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Completed)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.Text)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id=item.SubTaskId }) |
                @Html.ActionLink("Delete", "Delete", new { id=item.SubTaskId })
            </td>
        </tr>
    }
    </table>

    @using (Ajax.BeginForm("_Submit", "SubTask", new AjaxOptions { UpdateTargetId = "subtasks"}))
    {
        Html.RenderAction("_SubmitForm", "SubTask", new { id = ViewBag.TaskId });
    }
</div>